{% extends "layout.html" %}
{% block head %}

{% endblock %}
{% block content %}

<!--main content start-->
<section id="main-content">
  <section class="wrapper">
    <!--overview start-->
    <div class="row">
      <div class="col-lg-12">
        <h3 class="page-header"><i class="fa fa-laptop"></i> Dashboard</h3>
        <ol class="breadcrumb">
          <li><i class="fa fa-home"></i><a href="/">Home</a></li>
          <li><i class="fa fa-laptop"></i>Dashboard</li>
        </ol>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
        <div class="info-box dark-bg">
          <i id='status-icon' style="color: {{ state }};" class="fa fa-leaf"></i>
            <div><h4>Status</h4><p id='status'>{{ status }}</p></div>
        </div>
        <!--/.info-box-->
      </div>
      <!--/.col-->

      <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
        <div class="info-box blue-bg">
          <i class="fa fa-clock-o"></i>
            <div><h4>Piccolo Time</h4>
              <h3><span id='phours'>{{dt.hour}}</span>:<span id='pmin'>{{dt.minute}}</span>:<span id='psec'>{{dt.second}}</span>  <button type="button" id="syncButton" class="btn btn-info" style="visibility: hidden">sync</button></h3></div>

        </div>
        <!--/.info-box-->
      </div>
      <!--/.col-->

      <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
        <div class="info-box teal-bg">
          <i class="fa fa-clock-o"></i>
            <div><h4>Local Time</h4><h3><span id='lhours'>{{dt.hour}}</span>:<span id='lmin'>{{dt.minute}}</span>:<span id='lsec'>{{dt.second}}</span></h3></div>

        </div>
        <!--/.info-box-->
      </div>
      <!--/.col-->

      <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6">
        <div class="info-box green-bg">
          <i class="fa fa-asterisk"></i>
          <div><h4>Developed By</h4><p>The piccolo team</p></div>
        </div>
        <!--/.info-box-->
      </div>
      <!--/.col-->

    </div>
    <!--/.row-->


    <div class="row">

      <div class="col-lg-7 col-md-7">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h2><i class="fa fa-flag-o red"></i><strong>Status: CPU and Memory</strong></h2>
            <div class="panel-actions">
              <a onclick="getInfo(true, true)" class="btn-setting"><i class="fa fa-rotate-right"></i></a>
            </div>
          </div>
          <div class="panel-body">
            <table class="table table-condensed">
              <thead>
                <tr>
                  <th style="width: 25%;"></th>
                  <th>In use</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>CPU</td>
                  <td>
                    <div class="progress progress-striped active">
                      <div id='cpu' class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="{{cpu}}" aria-valuemin="0" aria-valuemax="100" style="width: {{cpu}}%">
                      </div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td>Memory</td>
                  <td>
                    <div class="progress progress-striped active">
                      <div id='memory' class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="{{mem}}" aria-valuemin="0" aria-valuemax="100" style="width: {{mem}}%">
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

        </div>

      </div>
      <!--/col-->

      <!--/col-->
      <div class="col-md-5">
          <div class="panel panel-default">
          <div class="panel-heading">
            <h2><i class="fa fa-folder"></i><strong>Status Information</strong></h2>
            </div>
            <div class="panel-body">
                <div><p><b>Piccolo Version:</b> {{server_version}}</p>
                  <p><b>Client Version:</b> {{client_version}}</p>
                  <!--<p><b>WebApp Version:</b> {{webAppVersion}}</p>-->
                  <p><b>Data Directory:</b> {{datadir}}</p>
                  <p><br></p>
                </div>
          </div>
          </div>
      </div>
      <!--/col-->

    </div>
  </section>
</section>
<!--main content end-->



{% endblock %}

{% block scripts %}

<script type="text/javascript">

/* Read to configuration jinja parameters */
var piccoloTime = '{{ clock }}';
var status = "{{ status }}"
var state = "{{ state }}"

</script>

<script src="{{ url_for('static', filename='js/piccolo2-dash.js') }}"></script>

{% endblock %}
